module.exports = class Data1663850100380 {
  name = 'Data1663850100380'

  async up(db) {
    await db.query(`CREATE TABLE "totals" ("id" character varying NOT NULL, "finalized_blocks" numeric NOT NULL, "total_issuance" numeric NOT NULL, "signed_extrinsics" numeric NOT NULL, "transfers" numeric NOT NULL, "holders" numeric NOT NULL, "validators_ideal_count" integer NOT NULL, "validators_count" integer NOT NULL, "staked_value_total" numeric NOT NULL, "staked_value_validator" numeric NOT NULL, "staked_value_nominator" numeric NOT NULL, "inflation_rate" numeric NOT NULL, CONSTRAINT "PK_3480b9650b4eb64138649f2a416" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_f91ccd19975caf90fdfcc52b73" ON "totals" ("staked_value_validator") `)
    await db.query(`CREATE INDEX "IDX_f029512b4386124e1a3786d647" ON "totals" ("staked_value_nominator") `)
    await db.query(`CREATE TABLE "historical_data_meta" ("id" character varying NOT NULL, "holders_latest_block_number" numeric, "holders_latest_time" TIMESTAMP WITH TIME ZONE, "issuance_latest_block_number" numeric, "issuance_latest_time" TIMESTAMP WITH TIME ZONE, "validator_latest_block_number" numeric, "validator_latest_time" TIMESTAMP WITH TIME ZONE, "staking_latest_block_number" numeric, "staking_latest_time" TIMESTAMP WITH TIME ZONE, CONSTRAINT "PK_5dd7d4f59c6cd7570bf355ef550" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_ac7c19b19e7b6997eb1d126fc5" ON "historical_data_meta" ("holders_latest_block_number") `)
    await db.query(`CREATE INDEX "IDX_ca8d6ae12a5ce90839e756a1ac" ON "historical_data_meta" ("holders_latest_time") `)
    await db.query(`CREATE INDEX "IDX_ed58dd6a0801584933a0ffdeaf" ON "historical_data_meta" ("issuance_latest_block_number") `)
    await db.query(`CREATE INDEX "IDX_8f44025add4d37ee569df5309d" ON "historical_data_meta" ("issuance_latest_time") `)
    await db.query(`CREATE INDEX "IDX_56ed1897a043b02bcb6be30444" ON "historical_data_meta" ("validator_latest_block_number") `)
    await db.query(`CREATE INDEX "IDX_39cafb808f1f7bf0a6305df3eb" ON "historical_data_meta" ("validator_latest_time") `)
    await db.query(`CREATE INDEX "IDX_c31a3b3118d451814bc26695c0" ON "historical_data_meta" ("staking_latest_block_number") `)
    await db.query(`CREATE INDEX "IDX_387409712a008b9b1e0263eba3" ON "historical_data_meta" ("staking_latest_time") `)
    await db.query(`CREATE TABLE "holders" ("id" character varying NOT NULL, "amount" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_db78e78aa79aa06fd917151e37f" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_5acf8ee6a2f31d656fa1492393" ON "holders" ("amount") `)
    await db.query(`CREATE INDEX "IDX_e427844cfb263424dd925e6143" ON "holders" ("timestamp") `)
    await db.query(`CREATE TABLE "issuance" ("id" character varying NOT NULL, "amount" numeric NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, CONSTRAINT "PK_bb07b4f10059d7d7890e247f1af" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_e692ebe79aaa2141e01389c30f" ON "issuance" ("amount") `)
    await db.query(`CREATE INDEX "IDX_28471f7486c4bd2da5650c84f4" ON "issuance" ("timestamp") `)
    await db.query(`CREATE TABLE "validator" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "ideal_count" integer NOT NULL, "count" integer NOT NULL, CONSTRAINT "PK_ae0a943022c24bd60e7161e0fad" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_26b834edaa2e5eb28a170d10d1" ON "validator" ("timestamp") `)
    await db.query(`CREATE INDEX "IDX_14639a0453aa5835548017d9c1" ON "validator" ("ideal_count") `)
    await db.query(`CREATE INDEX "IDX_bb1edce89f8f1f36c8b7ed8321" ON "validator" ("count") `)
    await db.query(`CREATE TABLE "staked_value" ("id" character varying NOT NULL, "timestamp" TIMESTAMP WITH TIME ZONE NOT NULL, "total_stake" numeric NOT NULL, "validator_stake" numeric NOT NULL, "nominator_stake" numeric NOT NULL, CONSTRAINT "PK_9367623dbb86a6f313128f3e3da" PRIMARY KEY ("id"))`)
    await db.query(`CREATE INDEX "IDX_c7a294c15bf0f681fb67b81587" ON "staked_value" ("timestamp") `)
    await db.query(`CREATE INDEX "IDX_79245fbee38dff23a04174cefe" ON "staked_value" ("total_stake") `)
    await db.query(`CREATE INDEX "IDX_71babf4242c857721ea9304d19" ON "staked_value" ("validator_stake") `)
    await db.query(`CREATE INDEX "IDX_1bcf0e3f1208df6582427b701d" ON "staked_value" ("nominator_stake") `)
  }

  async down(db) {
    await db.query(`DROP TABLE "totals"`)
    await db.query(`DROP INDEX "public"."IDX_f91ccd19975caf90fdfcc52b73"`)
    await db.query(`DROP INDEX "public"."IDX_f029512b4386124e1a3786d647"`)
    await db.query(`DROP TABLE "historical_data_meta"`)
    await db.query(`DROP INDEX "public"."IDX_ac7c19b19e7b6997eb1d126fc5"`)
    await db.query(`DROP INDEX "public"."IDX_ca8d6ae12a5ce90839e756a1ac"`)
    await db.query(`DROP INDEX "public"."IDX_ed58dd6a0801584933a0ffdeaf"`)
    await db.query(`DROP INDEX "public"."IDX_8f44025add4d37ee569df5309d"`)
    await db.query(`DROP INDEX "public"."IDX_56ed1897a043b02bcb6be30444"`)
    await db.query(`DROP INDEX "public"."IDX_39cafb808f1f7bf0a6305df3eb"`)
    await db.query(`DROP INDEX "public"."IDX_c31a3b3118d451814bc26695c0"`)
    await db.query(`DROP INDEX "public"."IDX_387409712a008b9b1e0263eba3"`)
    await db.query(`DROP TABLE "holders"`)
    await db.query(`DROP INDEX "public"."IDX_5acf8ee6a2f31d656fa1492393"`)
    await db.query(`DROP INDEX "public"."IDX_e427844cfb263424dd925e6143"`)
    await db.query(`DROP TABLE "issuance"`)
    await db.query(`DROP INDEX "public"."IDX_e692ebe79aaa2141e01389c30f"`)
    await db.query(`DROP INDEX "public"."IDX_28471f7486c4bd2da5650c84f4"`)
    await db.query(`DROP TABLE "validator"`)
    await db.query(`DROP INDEX "public"."IDX_26b834edaa2e5eb28a170d10d1"`)
    await db.query(`DROP INDEX "public"."IDX_14639a0453aa5835548017d9c1"`)
    await db.query(`DROP INDEX "public"."IDX_bb1edce89f8f1f36c8b7ed8321"`)
    await db.query(`DROP TABLE "staked_value"`)
    await db.query(`DROP INDEX "public"."IDX_c7a294c15bf0f681fb67b81587"`)
    await db.query(`DROP INDEX "public"."IDX_79245fbee38dff23a04174cefe"`)
    await db.query(`DROP INDEX "public"."IDX_71babf4242c857721ea9304d19"`)
    await db.query(`DROP INDEX "public"."IDX_1bcf0e3f1208df6582427b701d"`)
  }
}
